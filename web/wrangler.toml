# BlockHaven Web - Cloudflare Pages Configuration
# https://developers.cloudflare.com/workers/wrangler/configuration/

name = "blockhaven-web"
compatibility_date = "2024-01-01"

# Cloudflare Pages build output directory
pages_build_output_dir = "./dist"

# Environment variables for production
# Note: Sensitive values should be set via Cloudflare dashboard or `wrangler secret put`
[vars]
MC_SERVER_IP = "play.bhsmp.com"
MC_SERVER_PORT = "25565"

# KV namespace for rate limiting
[[kv_namespaces]]
binding = "BLOCKHAVEN_RATE_LIMITS"
id = "7d41edf9d9bf4e559a3ab317ba582b67"

# KV namespace for audit logging
[[kv_namespaces]]
binding = "BLOCKHAVEN_AUDIT"
id = "e440195b3f1d4648af85cf032f53c817"

# Production environment overrides
[env.production]
# KV namespace for production rate limiting
[[env.production.kv_namespaces]]
binding = "BLOCKHAVEN_RATE_LIMITS"
id = "7d41edf9d9bf4e559a3ab317ba582b67"

# KV namespace for production audit logging
[[env.production.kv_namespaces]]
binding = "BLOCKHAVEN_AUDIT"
id = "e440195b3f1d4648af85cf032f53c817"

# Preview environment (for PR previews)
[env.preview]
# Add preview-specific settings here
