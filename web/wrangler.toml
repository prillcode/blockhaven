# BlockHaven Web - Cloudflare Pages Configuration
# https://developers.cloudflare.com/workers/wrangler/configuration/

name = "blockhaven-web"
compatibility_date = "2024-01-01"

# Cloudflare Pages build output directory
pages_build_output_dir = "./dist"

# Environment variables for production
# Note: Sensitive values should be set via Cloudflare dashboard or `wrangler secret put`
[vars]
MC_SERVER_IP = "play.bhsmp.com"
MC_SERVER_PORT = "25565"

# KV namespace for rate limiting
# Create with: wrangler kv:namespace create BLOCKHAVEN_RATE_LIMITS
# Then update the id below with the returned namespace ID
[[kv_namespaces]]
binding = "BLOCKHAVEN_RATE_LIMITS"
id = "xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx"  # Replace with actual KV ID from `wrangler kv:namespace create`

# KV namespace for audit logging
# Create with: wrangler kv:namespace create BLOCKHAVEN_AUDIT
# Then update the id below with the returned namespace ID
[[kv_namespaces]]
binding = "BLOCKHAVEN_AUDIT"
id = "xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx"  # Replace with actual KV ID from `wrangler kv:namespace create`

# Production environment overrides
[env.production]
# KV namespace for production rate limiting
[[env.production.kv_namespaces]]
binding = "BLOCKHAVEN_RATE_LIMITS"
id = "xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx"  # Replace with production KV ID

# KV namespace for production audit logging
[[env.production.kv_namespaces]]
binding = "BLOCKHAVEN_AUDIT"
id = "xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx"  # Replace with production KV ID

# Preview environment (for PR previews)
[env.preview]
# Add preview-specific settings here
